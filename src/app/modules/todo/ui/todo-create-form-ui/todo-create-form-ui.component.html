<div class="flex" [style.maxHeight.px]="maxHeigth">
<span class="btn btn-primary" (click)="changeFormType()">
  {{btnTitle}}
</span>

<form *ngIf="formType === 'todo'" id="form" [formGroup]="todoForm" (ngSubmit)="onCreate()">
  <div class="form__content" [style.maxHeight.px]="maxHeigth">
    <input required type="text" name="text" placeholder="{{placeholder}}" formControlName="name" >
      <ng-container *ngTemplateOutlet="categoriesPick"></ng-container>
      <div class="devider"></div>
      <ul class="folder-list">
        <button type="button" class="btn btn__pick-item"
          (click)="onFolderPick('')"
          [ngClass]="{'btn__no-item': !!!activeFolder}">None
        </button>
        <li *ngFor="let folder of currentFoldersList">
          <button type="button" class="btn btn__pick-item"
            *ngIf="folder"
            [disabled]="this.activeCategory === null"
            [class.active]="activeFolder === folder.name"
            (click)="onFolderPick(folder.name)">{{folder.name}}
          </button>
        </li>
      </ul>
  </div>
</form>

<form *ngIf="formType === 'folder'" id="form" [formGroup]="folderForm" (ngSubmit)="onCreate()">
  <div class="form__content" [style.maxHeight.px]="maxHeigth">
    <input required type="text" name="text" placeholder="{{placeholder}}" formControlName="name" >
    <ng-container *ngTemplateOutlet="categoriesPick"></ng-container>
  </div>
</form>

<form *ngIf="formType === 'category'" id="form" [formGroup]="categoryForm" (ngSubmit)="onCreate()">
  <div class="form__content" >
    <input required type="text" name="text" placeholder="{{placeholder}}" formControlName="name" >
  </div>
</form>

<button type="submit" class="btn btn__big btn__add-todo" 
  [disabled]="isValid(formType)" 
  (click)="onCreate()">
  <app-svg-icon 
    [svgPath]="'../../../../../assets/icons/plus.svg'" 
    [width]="'20'" [height]="'20'">
  </app-svg-icon>
</button>
</div>

<ng-template #categoriesPick>
  <ul class="categories-list">
    <button type="button" class="btn btn__pick-item" *ngIf="formType === 'todo'"
      [ngClass]="{'btn__no-item': !!!activeCategory}" (click)="clearCategoryPick()" role="button">None
    </button>
    <li *ngFor="let category of categoriesList">
      <button type="button" role="text" class="btn btn__pick-item" (click)="onCategotyPick(category)"
        [class.active]="category.id === activeCategory?.id">
        {{category.name}}
      </button>
    </li>
  </ul>
</ng-template>